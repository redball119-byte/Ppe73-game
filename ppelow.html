<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>í™˜ê²½ê´€ë¦¬ PPE í€´ì¦ˆ (ëŠë¦°ë²„ì „)</title>
  <style>
    body{
      margin:0;
      background:#071022;
      color:#fff;
      font-family: Arial, sans-serif;
    }
    .wrap{
      padding:16px;
      max-width:520px;
      margin:0 auto;
    }
    .card{
      background:rgba(255,255,255,.07);
      border:1px solid rgba(255,255,255,.12);
      border-radius:18px;
      padding:16px;
      margin-bottom:14px;
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
    }
    .top{
      display:flex;
      gap:10px;
      align-items:stretch;
    }
    .pill{
      flex:1;
      text-align:center;
      padding:14px 10px;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.12);
      background:rgba(255,255,255,.06);
      font-weight:800;
    }
    .title{
      font-size:22px;
      font-weight:900;
      line-height:1.2;
    }
    .sub{
      margin-top:8px;
      color:rgba(255,255,255,.7);
      font-size:14px;
      line-height:1.4;
    }

    /* ì¤‘ì•™ ë–¨ì–´ì§€ëŠ” ì˜ì—­ */
    #stage{
      height:360px;
      position:relative;
      overflow:hidden;
      border-radius:18px;
      border:1px solid rgba(255,255,255,.10);
      background:rgba(255,255,255,.03);
    }
    #falling{
      position:absolute;
      top:-40px;
      left:50%;
      transform:translateX(-50%);
      font-size:42px;
      font-weight:900;
      opacity:.95;
      white-space:nowrap;
    }

    /* ì•„ë˜ ì„ íƒ ë²„íŠ¼ */
    .grid{
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:10px;
    }
    .btn{
      padding:14px 12px;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.14);
      background:rgba(255,255,255,.08);
      color:#fff;
      font-size:16px;
      font-weight:900;
    }
    .btn small{
      display:block;
      margin-top:4px;
      font-weight:700;
      font-size:12px;
      color:rgba(255,255,255,.7);
    }

    /* ì‹œì‘/ë¦¬ì…‹ ë²„íŠ¼ì€ í™”ë©´ ì•„ë˜ì— ê³ ì • */
    .fixedBar{
      position:fixed;
      left:16px;
      right:16px;
      bottom:18px;
      display:flex;
      gap:12px;
      z-index:9999;
    }
    .fixedBar button{
      flex:1;
      padding:16px 14px;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.18);
      background:rgba(255,255,255,.10);
      color:#fff;
      font-size:18px;
      font-weight:900;
    }
    #startBtn{
      background:rgba(34,197,94,.18);
      border-color:rgba(34,197,94,.45);
    }
    #resetBtn{
      background:rgba(239,68,68,.16);
      border-color:rgba(239,68,68,.40);
    }

    /* ë²„íŠ¼ ë•Œë¬¸ì— ì•„ë˜ ê°€ë ¤ì§€ì§€ ì•Šê²Œ */
    .bottomSpace{ height:96px; }
  </style>
</head>
<body>
  <div class="wrap">

    <div class="top">
      <div class="pill">ğŸ§¹ í™˜ê²½ê´€ë¦¬ PPE í€´ì¦ˆ<br><span style="opacity:.7;font-weight:800;">ëŠë¦°ë²„ì „</span></div>
      <div class="pill">ë¬¸í•­<br><span id="q">0</span> / 10</div>
      <div class="pill">ì ìˆ˜<br><span id="score">0</span></div>
    </div>

    <div class="card">
      <div class="title">ì§ˆë³‘ëª…ì´ ë–¨ì–´ì§‘ë‹ˆë‹¤</div>
      <div class="sub">ì•„ë˜ ë³´í˜¸êµ¬ 4ê°œ ì¤‘ <b>ì •ë‹µ 1ê°œ</b>ë¥¼ ëˆŒëŸ¬ì£¼ì„¸ìš”. (í™˜ê²½ê´€ë¦¬ìš”ì› êµìœ¡ìš©)</div>
    </div>

    <div class="card">
      <div id="stage">
        <div id="falling" style="display:none;">ê²°í•µ</div>
      </div>
    </div>

    <div class="card">
      <div class="title" style="font-size:18px;">ë³´í˜¸êµ¬ ì„ íƒ (4ê°œ)</div>
      <div class="grid" style="margin-top:10px;">
        <button class="btn" data-ppe="mask">ë§ˆìŠ¤í¬<small>ë¹„ë§/ë¶„ë¬´</small></button>
        <button class="btn" data-ppe="gloves">ì¥ê°‘<small>ì ‘ì´‰/ì²´ì•¡</small></button>
        <button class="btn" data-ppe="gown">ê°€ìš´/ì•ì¹˜ë§ˆ<small>ì˜¤ì—¼/íŠ€ê¹€</small></button>
        <button class="btn" data-ppe="goggles">ê³ ê¸€/ì•ˆë©´ë³´í˜¸<small>ëˆˆ/ì–¼êµ´</small></button>
      </div>
    </div>

    <div class="bottomSpace"></div>
  </div>

  <div class="fixedBar">
    <button id="startBtn" type="button">ì‹œì‘</button>
    <button id="resetBtn" type="button">ë¦¬ì…‹</button>
  </div>

  <script>
    // âœ… 10ë¬¸í•­, "ì§ˆë³‘ëª…" ë–¨ì–´ì§€ê³  â†’ ì •ë‹µ PPE 1ê°œ ì„ íƒ
    const questions = [
      { disease:"ê²°í•µ", answer:"mask" },
      { disease:"ì¸í”Œë£¨ì—”ì", answer:"mask" },
      { disease:"ë…¸ë¡œë°”ì´ëŸ¬ìŠ¤(êµ¬í† ë¬¼)", answer:"gown" },
      { disease:"í˜ˆì•¡/ì²´ì•¡ ì˜¤ì—¼(ì¹¨ëŒ€ë‚œê°„)", answer:"gloves" },
      { disease:"C. difficile ì˜ì‹¬(ì„¤ì‚¬)", answer:"gloves" },
      { disease:"ê°ë‹´/ë¶„ë¬´ ë§ì€ ì²­ì†Œ", answer:"goggles" },
      { disease:"ìˆ˜ìˆ ì‹¤ ë°”ë‹¥ í˜ˆì•¡ ì†ŒëŸ‰", answer:"gloves" },
      { disease:"ê²©ë¦¬ë³‘ì‹¤ í™”ì¥ì‹¤ ì²­ì†Œ", answer:"gown" },
      { disease:"ì„¸ì •ì œ ë¶„ì‚¬(ëˆˆ íŠ ìœ„í—˜)", answer:"goggles" },
      { disease:"í™˜ì ì¹¨ìƒ ì£¼ë³€ ì²­ì†Œ", answer:"gloves" },
    ];

    let idx = 0;
    let score = 0;
    let running = false;
    let y = -40;
    let speed = 1.2; // âœ… ëŠë¦° ì†ë„

    const qEl = document.getElementById('q');
    const sEl = document.getElementById('score');
    const falling = document.getElementById('falling');
    const stage = document.getElementById('stage');
    const startBtn = document.getElementById('startBtn');
    const resetBtn = document.getElementById('resetBtn');

    function loadQuestion(){
      if(idx >= questions.length){
        running = false;
        falling.style.display = "none";
        alert("ë! ì ìˆ˜: " + score + " / " + questions.length);
        return;
      }
      qEl.textContent = idx;
      falling.textContent = questions[idx].disease;
      y = -40;
      falling.style.top = y + "px";
      falling.style.display = "block";
    }

    let timer = null;
    function tick(){
      if(!running) return;
      y += speed;
      falling.style.top = y + "px";

      // ë°”ë‹¥ ë‹¿ìœ¼ë©´ ì˜¤ë‹µ ì²˜ë¦¬ í›„ ë‹¤ìŒ
      if(y > stage.clientHeight - 60){
        score -= 1;
        sEl.textContent = score;
        idx += 1;
        loadQuestion();
      }
    }

    startBtn.addEventListener('click', () => {
      if(running) return;
      running = true;
      if(idx === 0) loadQuestion();
      if(!timer) timer = setInterval(tick, 16);
    });

    resetBtn.addEventListener('click', () => {
      running = false;
      idx = 0;
      score = 0;
      qEl.textContent = 0;
      sEl.textContent = 0;
      falling.style.display = "none";
    });

    document.querySelectorAll('.btn').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        if(!running) return; // ì‹œì‘ ì•ˆ í–ˆìœ¼ë©´ ì„ íƒ ë¶ˆê°€
        const pick = btn.dataset.ppe;
        const ans = questions[idx].answer;
        if(pick === ans){
          score += 1;
        }else{
          score -= 1;
        }
        sEl.textContent = score;
        idx += 1;
        loadQuestion();
      });
    });
  </script>
</body>
</html>
