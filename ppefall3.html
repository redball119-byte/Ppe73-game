<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>PPE 교육 게임</title>

<style>
body{
margin:0;
background:#071022;
color:white;
font-family:Arial, sans-serif;
text-align:center;
}

.wrap{
max-width:420px;
margin:auto;
padding:10px;
}

/* 상단 */
.top{
display:flex;
gap:8px;
margin-bottom:10px;
}
.box{
flex:1;
background:rgba(255,255,255,0.08);
padding:10px;
border-radius:16px;
font-size:14px;
}

/* 설명 */
.info{
background:rgba(255,255,255,0.07);
padding:12px;
border-radius:16px;
font-size:14px;
margin-bottom:10px;
line-height:1.4;
}

/* 떨어지는 영역 */
.drop{
height:170px;
border:2px dashed rgba(255,255,255,0.2);
border-radius:16px;
margin-bottom:8px;
position:relative;
overflow:hidden;
}

/* 떨어지는 질병 */
.fall{
position:absolute;
left:50%;
transform:translateX(-50%);
background:rgba(255,255,255,0.15);
padding:10px 16px;
border-radius:14px;
font-size:20px;   /* 질병 글씨 줄임 */
font-weight:bold;
}

/* 보호구 영역 */
.ppe{
display:grid;
grid-template-columns:1fr 1fr;
gap:10px;
margin-top:6px;
}

.btn{
background:rgba(255,255,255,0.08);
padding:14px 8px;
border-radius:16px;
font-size:15px;
}

.small{
font-size:11px;
opacity:0.7;
}

/* 시작버튼 */
.start{
margin-top:8px;
background:#47b36a;
padding:12px;
border-radius:18px;
font-size:17px;
}
</style>
</head>

<body>
<div class="wrap">

<div class="top">
<div class="box">PPE 퀴즈</div>
<div class="box">문항 <span id="q">0</span>/10</div>
<div class="box">점수 <span id="s">0</span></div>
</div>

<div class="info">
질병/상황 보고 PPE 선택<br>
5초 안에 선택하세요
</div>

<div class="drop" id="drop"></div>

<div class="ppe">
<div class="btn" onclick="pick('mask')">마스크<div class="small">비말</div></div>
<div class="btn" onclick="pick('n95')">N95<div class="small">결핵</div></div>
<div class="btn" onclick="pick('gown')">가운+장갑<div class="small">접촉</div></div>
<div class="btn" onclick="pick('none')">PPE불필요<div class="small">교육용</div></div>
</div>

<div class="start" onclick="start()">시작</div>

</div>

<script>
let list=[
{t:"결핵 병실 청소",a:"n95"},
{t:"인플루엔자 구역 청소",a:"mask"},
{t:"혈액 오염 바닥",a:"gown"},
{t:"일반 복도",a:"none"},
{t:"격리환자 침대정리",a:"gown"},
{t:"기침환자 구역",a:"mask"},
{t:"음압병실",a:"n95"},
{t:"일반 사무실",a:"none"},
{t:"토사물 처리",a:"gown"},
{t:"외래 대기실",a:"mask"}
];

let idx=0;
let score=0;
let timer=null;
let running=false;

function start(){
idx=0;
score=0;
document.getElementById("s").innerText=score;
next();
}

function next(){
if(idx>=10){
alert("끝 점수:"+score);
return;
}

document.getElementById("q").innerText=idx+1;

let drop=document.getElementById("drop");
drop.innerHTML="";

let d=document.createElement("div");
d.className="fall";
d.innerText=list[idx].t;
drop.appendChild(d);

let pos=0;
running=true;

timer=setInterval(()=>{
pos+=1.2;
d.style.top=pos+"px";

if(pos>130){
clearInterval(timer);
running=false;
idx++;
setTimeout(next,400);
}
},50);
}

function pick(v){
if(!running) return;
running=false;
clearInterval(timer);

if(v===list[idx].a){
score++;
document.getElementById("s").innerText=score;
}

idx++;
setTimeout(next,400);
}
</script>
</body>
</html>
