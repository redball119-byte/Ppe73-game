<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no" />
  <title>í™˜ê²½ê´€ë¦¬ PPE í€´ì¦ˆ</title>
  <style>
    :root{
      --bg:#071022;
      --card:rgba(255,255,255,.07);
      --stroke:rgba(255,255,255,.10);
      --text:#eaf0ff;
      --muted:rgba(234,240,255,.72);
      --good:#22c55e;
      --bad:#ef4444;
      --btn:#25314a;
      --btn2:#1b2438;
      --shadow:0 18px 40px rgba(0,0,0,.45);
      --r:22px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background:radial-gradient(1200px 700px at 50% -10%, rgba(90,140,255,.22), transparent 60%),
                 radial-gradient(900px 600px at 10% 20%, rgba(34,197,94,.12), transparent 55%),
                 var(--bg);
      color:var(--text);
      font-family: Pretendard, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      overflow:hidden; /* í•œ í™”ë©´ ê³ ì • */
    }

    .wrap{
      height:100%;
      display:flex;
      flex-direction:column;
      gap:10px;
      padding:12px;
      max-width:520px;
      margin:0 auto;
    }

    .top{
      display:grid;
      grid-template-columns: 1.2fr .9fr .9fr;
      gap:10px;
    }
    .pill{
      background:var(--card);
      border:1px solid var(--stroke);
      border-radius:18px;
      padding:10px 12px;
      box-shadow:var(--shadow);
      text-align:left;
      min-height:56px;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:8px;
    }
    .pill b{font-size:14px}
    .pill span{font-size:12px; color:var(--muted)}

    .titleCard{
      background:var(--card);
      border:1px solid var(--stroke);
      border-radius:22px;
      padding:14px 14px;
      box-shadow:var(--shadow);
      text-align:left;
    }
    .titleCard h1{
      margin:0 0 6px 0;
      font-size:18px;
      letter-spacing:-.2px;
    }
    .titleCard .sub{
      font-size:12px;
      color:var(--muted);
      line-height:1.35;
    }

    /* ê²Œì„ ì˜ì—­ */
    .arena{
      flex:1;
      position:relative;
      background:linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
      border:1px solid var(--stroke);
      border-radius:22px;
      box-shadow:var(--shadow);
      overflow:hidden;
      min-height:240px;
    }

    /* ë–¨ì–´ì§€ëŠ” ì§ˆë³‘ í…ìŠ¤íŠ¸ */
    #fall{
      position:absolute;
      left:50%;
      transform:translateX(-50%);
      top:-60px;
      font-weight:800;
      font-size:24px;
      padding:10px 14px;
      background:rgba(0,0,0,.30);
      border:1px solid rgba(255,255,255,.12);
      border-radius:16px;
      letter-spacing:-.2px;
      user-select:none;
      white-space:nowrap;
      pointer-events:none;
    }

    .hintCenter{
      position:absolute;
      inset:0;
      display:flex;
      align-items:center;
      justify-content:center;
      color:rgba(234,240,255,.45);
      font-weight:700;
      font-size:16px;
      padding:18px;
      text-align:center;
      user-select:none;
    }

    /* í•˜ë‹¨ ë²„íŠ¼ */
    .bottom{
      display:grid;
      grid-template-columns:1fr;
      gap:10px;
    }
    .btnRow{
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:10px;
    }
    button{
      border:none;
      border-radius:18px;
      padding:14px 12px;
      background:var(--btn);
      color:var(--text);
      font-size:16px;
      font-weight:800;
      letter-spacing:-.2px;
      box-shadow:var(--shadow);
      border:1px solid rgba(255,255,255,.10);
    }
    button:active{transform:scale(.99)}
    .start{
      background:linear-gradient(180deg, rgba(34,197,94,.95), rgba(22,163,74,.95));
      color:#04120a;
    }

    /* ê²°ê³¼ ëª¨ë‹¬ */
    .modalBg{
      position:absolute;
      inset:0;
      background:rgba(0,0,0,.55);
      display:none;
      align-items:center;
      justify-content:center;
      padding:14px;
    }
    .modal{
      width:min(420px, 100%);
      background:rgba(12,18,34,.92);
      border:1px solid rgba(255,255,255,.14);
      border-radius:22px;
      box-shadow:0 24px 70px rgba(0,0,0,.7);
      padding:14px;
      text-align:center;
    }
    .modal h2{
      margin:6px 0 8px 0;
      font-size:18px; /* ê¸€ì”¨ ì¡°ê¸ˆ ì‘ê²Œ */
      letter-spacing:-.3px;
    }
    .modal p{
      margin:6px 0 12px 0;
      font-size:12px; /* ê¸€ì”¨ ì‘ê²Œ */
      color:rgba(234,240,255,.78);
      line-height:1.35;
      word-break:keep-all;
    }
    .modal img{
      width:120px;   /* âœ… ì´ë¯¸ì§€ ì‘ê²Œ */
      height:120px;  /* âœ… ì „ì²´ ëª¸ì´ ë³´ì´ë„ë¡ contain */
      object-fit:contain;
      display:block;
      margin:6px auto 8px auto;
      border-radius:16px;
      background:rgba(255,255,255,.04);
      border:1px solid rgba(255,255,255,.10);
    }
    .modal .nextBtn{
      width:100%;
      background:linear-gradient(180deg, rgba(59,130,246,.95), rgba(37,99,235,.95));
    }

    /* ì‘ì€ í™”ë©´ ìµœì í™” */
    @media (max-height: 720px){
      .titleCard h1{font-size:17px}
      button{padding:13px 10px}
      #fall{font-size:22px}
    }
  </style>
</head>

<body>
  <div class="wrap">
    <div class="top">
      <div class="pill"><b>ğŸ§¹ í™˜ê²½ê´€ë¦¬ PPE í€´ì¦ˆ</b><span>ê¸°ë³¸ 3ì¢…</span></div>
      <div class="pill"><b>ë¬¸í•­</b><span id="qText">0 / 10</span></div>
      <div class="pill"><b>ì ìˆ˜</b><span id="scoreText">0</span></div>
    </div>

    <div class="titleCard">
      <h1>ì§ˆë³‘/ìƒí™©ì„ ë³´ê³  í•„ìš”í•œ PPEë¥¼ ê³ ë¥´ì„¸ìš”</h1>
      <div class="sub">â‘  ì‹œì‘ì„ ëˆ„ë¥´ë©´ ì§ˆë³‘ëª…ì´ ìœ„ì—ì„œ ì²œì²œíˆ ë‚´ë ¤ì˜µë‹ˆë‹¤. â‘¡ ì•„ë˜ ë²„íŠ¼ì—ì„œ ì •ë‹µ PPEë¥¼ ê³ ë¥´ë©´ ìë™ ì±„ì ë©ë‹ˆë‹¤.</div>
    </div>

    <div class="arena" id="arena">
      <div class="hintCenter" id="hint">ì‹œì‘ì„ ëˆ„ë¥´ë©´ ì§ˆë³‘ëª…ì´ ë‚´ë ¤ì˜µë‹ˆë‹¤</div>
      <div id="fall">ê²°í•µ</div>

      <!-- ê²°ê³¼ ëª¨ë‹¬ -->
      <div class="modalBg" id="modalBg">
        <div class="modal">
          <img id="resultImg" alt="result" />
          <h2 id="resultTitle">ì •ë‹µ</h2>
          <p id="resultDesc">ì„¤ëª…</p>
          <button class="nextBtn" id="nextBtn">ë‹¤ìŒ</button>
        </div>
      </div>
    </div>

    <div class="bottom">
      <button class="start" id="startBtn">ì‹œì‘</button>
      <div class="btnRow">
        <button data-ppe="mask">ë§ˆìŠ¤í¬</button>
        <button data-ppe="n95">N95 ë§ˆìŠ¤í¬</button>
      </div>
      <div class="btnRow">
        <button data-ppe="gown_glove">ê°€ìš´+ì¥ê°‘</button>
        <button data-ppe="none">PPE ë¶ˆí•„ìš”</button>
      </div>
    </div>
  </div>

<script>
/** =========================
 *  âœ… ë¬¸ì œ(ì§ˆë³‘ëª…) + ì •ë‹µ(PPE)
 *  PPE ì¢…ë¥˜: mask / n95 / gown_glove / none
 *  ========================= */
const QUESTIONS = [
  { name:"ê²°í•µ",          answer:"n95",       explain:"ê³µê¸°ì£¼ì˜ ìƒí™© â†’ N95 ë§ˆìŠ¤í¬", imgOk:"assets/ok.png", imgNo:"assets/no.png" },
  { name:"ìˆ˜ë‘",          answer:"n95",       explain:"ê³µê¸°+ì ‘ì´‰(êµìœ¡ìš© ë‹¨ìˆœí™”) â†’ ì—¬ê¸°ì„œëŠ” N95ë¡œ í†µì¼", imgOk:"assets/ok.png", imgNo:"assets/no.png" },
  { name:"ì¸í”Œë£¨ì—”ì",    answer:"mask",      explain:"ë¹„ë§ì£¼ì˜ ìƒí™© â†’ ìˆ˜ìˆ ë§ˆìŠ¤í¬", imgOk:"assets/ok.png", imgNo:"assets/no.png" },
  { name:"ë…¸ë¡œë°”ì´ëŸ¬ìŠ¤ ì„¤ì‚¬(ì˜¤ë¬¼)", answer:"gown_glove", explain:"ë¶„ë³€/ì˜¤ë¬¼ ì²˜ë¦¬ ì ‘ì´‰ ìœ„í—˜ â†’ ê°€ìš´+ì¥ê°‘", imgOk:"assets/ok.png", imgNo:"assets/no.png" },
  { name:"í˜ˆì•¡/ì²´ì•¡ ì˜¤ì—¼ë¬¼ ì²˜ë¦¬",  answer:"gown_glove", explain:"ì²´ì•¡ ì ‘ì´‰ ìœ„í—˜ â†’ ê°€ìš´+ì¥ê°‘", imgOk:"assets/ok.png", imgNo:"assets/no.png" },
  { name:"ê²©ë¦¬ë³‘ì‹¤ ì¼ë°˜ ì²­ì†Œ",      answer:"mask",      explain:"ê¸°ë³¸ í™˜ê²½ê´€ë¦¬(ë¶„ë¬´X) â†’ ë§ˆìŠ¤í¬", imgOk:"assets/ok.png", imgNo:"assets/no.png" },
  { name:"MRSA í™˜ì ë³‘ì‹¤ ì²­ì†Œ",     answer:"gown_glove", explain:"ì ‘ì´‰ì£¼ì˜(êµìœ¡ ë‹¨ìˆœí™”) â†’ ê°€ìš´+ì¥ê°‘", imgOk:"assets/ok.png", imgNo:"assets/no.png" },
  { name:"VRE í™˜ì ë³‘ì‹¤ ì²­ì†Œ",      answer:"gown_glove", explain:"ì ‘ì´‰ì£¼ì˜(êµìœ¡ ë‹¨ìˆœí™”) â†’ ê°€ìš´+ì¥ê°‘", imgOk:"assets/ok.png", imgNo:"assets/no.png" },
  { name:"ê²°í•µ ì˜ì‹¬ê°ì‹¤ ì²­ì†Œ",       answer:"n95",       explain:"ê³µê¸°ì£¼ì˜ ì˜ì‹¬ â†’ N95 ë§ˆìŠ¤í¬", imgOk:"assets/ok.png", imgNo:"assets/no.png" },
  { name:"ì‚¬ë¬´ì‹¤ ì±…ìƒ ë‹¦ê¸°(ì˜¤ì—¼ ì—†ìŒ)", answer:"none",  explain:"ì˜¤ì—¼Â·ë¹„ë§Â·ì²´ì•¡ ìœ„í—˜ ì—†ìŒ â†’ PPE ë¶ˆí•„ìš”", imgOk:"assets/ok.png", imgNo:"assets/no.png" },
];

let idx = 0;
let score = 0;
let running = false;
let timer = null;
const TOTAL = QUESTIONS.length;

const fall = document.getElementById("fall");
const hint = document.getElementById("hint");
const qText = document.getElementById("qText");
const scoreText = document.getElementById("scoreText");
const startBtn = document.getElementById("startBtn");
const arena = document.getElementById("arena");

const modalBg = document.getElementById("modalBg");
const resultImg = document.getElementById("resultImg");
const resultTitle = document.getElementById("resultTitle");
const resultDesc = document.getElementById("resultDesc");
const nextBtn = document.getElementById("nextBtn");

function updateTop(){
  qText.textContent = `${Math.min(idx, TOTAL)} / ${TOTAL}`;
  scoreText.textContent = score;
}

function resetFall(){
  fall.style.transition = "none";
  fall.style.top = "-60px";
  // force reflow
  void fall.offsetWidth;
}

function startRound(){
  if (running) return;
  if (idx >= TOTAL) {
    // ëë‚¬ìœ¼ë©´ ë‹¤ì‹œ ì‹œì‘
    idx = 0; score = 0;
    updateTop();
  }

  running = true;
  hint.style.display = "none";
  resetFall();

  const q = QUESTIONS[idx];
  fall.textContent = q.name;

  // âœ… ëŠë¦° ì†ë„ (4.2ì´ˆ)
  fall.style.transition = "top 4.2s linear";
  // ë–¨ì–´ì§ˆ ìœ„ì¹˜: arena ë‚´ë¶€ í•˜ë‹¨ ê·¼ì²˜(ë²„íŠ¼ê³¼ ê²¹ì¹˜ì§€ ì•Šê²Œ)
  const endTop = Math.max(140, arena.clientHeight - 120);
  requestAnimationFrame(()=>{ fall.style.top = endTop + "px"; });

  // ì‹œê°„ ë‚´ ì„ íƒ ëª»í•˜ë©´ ì˜¤ë‹µ ì²˜ë¦¬
  timer = setTimeout(()=>{
    showResult(false, "ì‹œê°„ ì´ˆê³¼");
  }, 4300);
}

function showResult(correct, extraMsg=""){
  clearTimeout(timer);
  running = false;

  const q = QUESTIONS[idx];
  const ok = correct;

  // âœ… ì´ë¯¸ì§€: assets í´ë”ì— ok.png / no.png ì˜¬ë ¤ë‘ë©´ ë¨
  // (ì›í•˜ë©´ ë‹¤ë¥¸ íŒŒì¼ëª…ìœ¼ë¡œ ë°”ê¿”ë„ ë¨)
  resultImg.src = ok ? q.imgOk : q.imgNo;

  resultTitle.textContent = ok ? "ì •ë‹µ âœ…" : "ì˜¤ë‹µ âŒ";
  resultTitle.style.color = ok ? "white" : "white";

  const picked = extraMsg ? `ì„ íƒ: ${extraMsg}` : "";
  resultDesc.textContent =
    `ë¬¸ì œ: ${q.name}\nì •ë‹µ: ${labelOf(q.answer)}\n${picked}\nì„¤ëª…: ${q.explain}`.replaceAll("\n","  ");

  modalBg.style.display = "flex";
}

function labelOf(code){
  switch(code){
    case "mask": return "ë§ˆìŠ¤í¬";
    case "n95": return "N95 ë§ˆìŠ¤í¬";
    case "gown_glove": return "ê°€ìš´+ì¥ê°‘";
    case "none": return "PPE ë¶ˆí•„ìš”";
    default: return code;
  }
}

function pick(ppe){
  if (!running) return;
  const q = QUESTIONS[idx];
  const ok = (ppe === q.answer);
  if (ok) score += 1;
  updateTop();
  showResult(ok, labelOf(ppe));
}

nextBtn.addEventListener("click", ()=>{
  modalBg.style.display = "none";
  idx += 1;
  updateTop();
  if (idx >= TOTAL){
    hint.style.display = "flex";
    hint.textContent = `êµìœ¡ ì™„ë£Œ ğŸ‘ ì ìˆ˜: ${score}  (ì‹œì‘ì„ ëˆ„ë¥´ë©´ ë‹¤ì‹œ ì§„í–‰)`;
  } else {
    // ìë™ ë‹¤ìŒ ë¬¸ì œ ì‹œì‘
    startRound();
  }
});

startBtn.addEventListener("click", ()=>{
  startRound();
});

// ë²„íŠ¼ í´ë¦­
document.querySelectorAll("button[data-ppe]").forEach(btn=>{
  btn.addEventListener("click", ()=> pick(btn.dataset.ppe));
});

// ì´ˆê¸° í‘œì‹œ
updateTop();
resetFall();
</script>
</body>
</html>
```î¨0î¨‚
