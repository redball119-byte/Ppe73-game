<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>í™˜ê²½ê´€ë¦¬ PPE í€´ì¦ˆ (ìë™ ì§„í–‰)</title>
  <style>
    :root{
      --bg:#071022;
      --card:rgba(255,255,255,.08);
      --card2:rgba(255,255,255,.06);
      --stroke:rgba(255,255,255,.12);
      --text:#eaf0ff;
      --muted:rgba(234,240,255,.70);
      --good:#22c55e;
      --bad:#ef4444;
      --btn:#2b3b55;
      --btn2:#1f2c44;
      --shadow:0 18px 40px rgba(0,0,0,.45);
      --r:22px;
      --fallDur: 5s; /* âœ… ë‚´ë ¤ì˜¤ëŠ” ì‹œê°„(ìš”ì²­: 5ì´ˆ) */
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background: radial-gradient(1200px 700px at 50% -120px, rgba(255,255,255,.10), transparent 60%),
                  radial-gradient(1000px 700px at 50% 120%, rgba(34,197,94,.08), transparent 55%),
                  var(--bg);
      color:var(--text);
      font-family: system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans KR", "Apple SD Gothic Neo", Arial, sans-serif;
      display:flex;
      justify-content:center;
      padding: 14px 12px calc(14px + env(safe-area-inset-bottom));
    }
    .app{
      width:min(520px, 100%);
      display:flex;
      flex-direction:column;
      gap:12px;
    }

    /* ìƒë‹¨ ìš”ì•½ */
    .top{
      display:grid;
      grid-template-columns: 1.3fr 1fr 1fr;
      gap:10px;
    }
    .tile{
      background:linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.06));
      border:1px solid var(--stroke);
      border-radius:18px;
      padding:12px 12px;
      box-shadow: var(--shadow);
      min-height:72px;
      display:flex;
      flex-direction:column;
      justify-content:center;
    }
    .tile small{color:var(--muted); font-size:12px; line-height:1.1}
    .tile b{font-size:18px; line-height:1.2}
    .tile .big{font-size:22px; font-weight:800}

    /* ì•ˆë‚´ ì¹´ë“œ */
    .card{
      background:linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.06));
      border:1px solid var(--stroke);
      border-radius: var(--r);
      padding:14px;
      box-shadow: var(--shadow);
    }
    .title{
      font-size:20px;
      font-weight:800;
      margin:0 0 6px 0;
      letter-spacing:-.2px;
    }
    .desc{
      margin:0;
      color:var(--muted);
      font-size:13px; /* âœ… ê¸€ì”¨ ì¡°ê¸ˆ ì‘ê²Œ */
      line-height:1.45;
    }

    /* ê²Œì„ ì˜ì—­ */
    .game{
      background:linear-gradient(180deg, rgba(0,0,0,.20), rgba(255,255,255,.04));
      border:1px solid var(--stroke);
      border-radius: var(--r);
      padding:12px;
      box-shadow: var(--shadow);
      position:relative;
      overflow:hidden;
    }
    .row{
      display:flex;
      justify-content:space-between;
      gap:10px;
      margin-bottom:10px;
      flex-wrap:wrap;
    }
    .pill{
      background:rgba(255,255,255,.06);
      border:1px solid var(--stroke);
      border-radius:999px;
      padding:8px 10px;
      color:var(--muted);
      font-size:13px;
      display:flex;
      gap:8px;
      align-items:center;
    }
    .pill b{color:var(--text)}

    /* âœ… ë‚´ë ¤ì˜¤ëŠ” ë„¤ëª¨ì¹¸(ë” í¬ê²Œ) */
    .dropZone{
      height: 38vh;              /* âœ… í¬ê²Œ(ìš”ì²­: ë„ˆë¬´ ì‘ì•„ì„œ) */
      min-height: 260px;
      max-height: 420px;
      border:2px dashed rgba(255,255,255,.12);
      border-radius: 18px;
      position:relative;
      overflow:hidden;
      background: radial-gradient(700px 260px at 50% -60px, rgba(255,255,255,.08), transparent 60%);
    }
    .hintCenter{
      position:absolute; inset:0;
      display:flex; align-items:center; justify-content:center;
      color:rgba(234,240,255,.35);
      text-align:center;
      padding:10px;
      font-weight:700;
      letter-spacing:-.2px;
    }

    .falling{
      position:absolute;
      left:50%;
      transform:translateX(-50%);
      top:-64px;
      background:rgba(255,255,255,.10);
      border:1px solid rgba(255,255,255,.16);
      padding:12px 14px;
      border-radius:16px;
      box-shadow: 0 14px 28px rgba(0,0,0,.45);
      font-weight:900;
      font-size:28px;
      letter-spacing:-.6px;
      white-space:nowrap;
      user-select:none;
      will-change: transform, top;
    }
    .falling.run{
      animation: fall var(--fallDur) linear forwards;
    }
    @keyframes fall{
      from{ top:-70px; }
      to{ top: calc(100% - 70px); }
    }

    /* í•˜ë‹¨ ë²„íŠ¼ */
    .sectionTitle{
      margin: 12px 0 8px;
      font-size:20px;
      font-weight:900;
      letter-spacing:-.4px;
    }
    .subNote{
      float:right;
      color:var(--muted);
      font-size:12px;
      font-weight:600;
      margin-top:6px;
    }
    .grid{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:10px;
    }
    .btn{
      border:none;
      border-radius:18px;
      padding:14px 12px;
      background:linear-gradient(180deg, rgba(255,255,255,.09), rgba(255,255,255,.05));
      border:1px solid var(--stroke);
      color:var(--text);
      font-weight:900;
      font-size:18px;
      box-shadow: var(--shadow);
      cursor:pointer;
      -webkit-tap-highlight-color: transparent;
    }
    .btn:active{transform:scale(.99)}
    .btn small{
      display:block;
      margin-top:6px;
      color:var(--muted);
      font-weight:700;
      font-size:12px;
      line-height:1.2;
    }
    .btn[disabled]{opacity:.45; cursor:not-allowed}

    /* ê²°ê³¼ ì˜¤ë²„ë ˆì´(ìë™ ë‹¤ìŒë¬¸ì œ) */
    .overlay{
      position:absolute;
      inset:0;
      display:none;
      align-items:center;
      justify-content:center;
      padding:14px;
      background:rgba(0,0,0,.40);
      backdrop-filter: blur(6px);
      z-index: 20;
      pointer-events:none; /* âœ… ë²„íŠ¼ í´ë¦­ ë§‰ì§€ ì•Šê²Œ */
    }
    .overlay.show{display:flex}
    .resultCard{
      width:min(420px, 92%);
      background:linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,.06));
      border:1px solid rgba(255,255,255,.16);
      border-radius:22px;
      padding:14px;
      box-shadow: 0 20px 60px rgba(0,0,0,.55);
      text-align:center;
    }
    .resultBadge{
      font-size:28px;
      font-weight:1000;
      margin:4px 0 10px;
      letter-spacing:-.5px;
    }
    .resultText{
      margin:0;
      color:var(--muted);
      font-size:13px; /* âœ… ê¸€ì”¨ ì¡°ê¸ˆ ì‘ê²Œ */
      line-height:1.45;
      word-break:keep-all;
    }

    .footerNote{
      margin-top:8px;
      color:rgba(234,240,255,.45);
      font-size:12px;
      text-align:center;
    }
  </style>
</head>
<body>
  <div class="app">
    <div class="top">
      <div class="tile">
        <small>ğŸ§¹ í™˜ê²½ê´€ë¦¬ PPE í€´ì¦ˆ</small>
        <b>ê¸°ë³¸ 4ì¢… Â· ì§ˆë³‘ëª… ë‚™í•˜</b>
      </div>
      <div class="tile">
        <small>ë¬¸í•­</small>
        <b class="big"><span id="qNow">0</span>/<span id="qTotal">10</span></b>
      </div>
      <div class="tile">
        <small>ì ìˆ˜</small>
        <b class="big" id="score">0</b>
      </div>
    </div>

    <div class="card">
      <p class="title">ì§ˆë³‘/ìƒí™©ì„ ë³´ê³  í•„ìš”í•œ PPE 1ê°œë¥¼ ê³ ë¥´ì„¸ìš”</p>
      <p class="desc">
        â‘  ì§ˆë³‘ëª…ì´ ë„¤ëª¨ì¹¸ ìœ„ì—ì„œ ì•„ë˜ë¡œ <b>5ì´ˆ</b> ë™ì•ˆ ë‚´ë ¤ì˜µë‹ˆë‹¤. (ì‹œê°„ ì´ˆê³¼ ì‹œ ì˜¤ë‹µ)<br/>
        â‘¡ ì•„ë˜ ë²„íŠ¼ì—ì„œ PPE 1ê°œë¥¼ ì„ íƒí•˜ë©´ ìë™ ì±„ì  í›„ <b>ìë™ìœ¼ë¡œ ë‹¤ìŒ ë¬¸ì œ</b>ë¡œ ë„˜ì–´ê°‘ë‹ˆë‹¤.
      </p>
    </div>

    <div class="game" id="game">
      <div class="row">
        <div class="pill">â³ ì œí•œì‹œê°„: <b id="limit">5.0s</b></div>
        <div class="pill">ìƒíƒœ: <b id="status">ì§„í–‰</b></div>
      </div>

      <div class="dropZone" id="dropZone">
        <div class="hintCenter" id="hint">ì§ˆë³‘ëª…ì´ ë‚´ë ¤ì˜µë‹ˆë‹¤</div>
        <div class="falling" id="falling"></div>
      </div>

      <div class="sectionTitle">
        ë³´í˜¸êµ¬ ì„ íƒ (4ê°œ)
        <span class="subNote">í•œ ë¬¸ì œë‹¹ 1ê°œë§Œ ì„ íƒ</span>
      </div>

      <div class="grid">
        <button class="btn" data-choice="mask">ë§ˆìŠ¤í¬<small>ê¸°ë³¸(ë¹„ë§/ë¶„ë¬´)</small></button>
        <button class="btn" data-choice="n95">N95 ë§ˆìŠ¤í¬<small>ê³µê¸°(ê²°í•µ ë“±)</small></button>
        <button class="btn" data-choice="gown">ê°€ìš´+ì¥ê°‘<small>ì ‘ì´‰(ì˜¤ì—¼ë¬¼ ì²˜ë¦¬)</small></button>
        <button class="btn" data-choice="none">PPE ë¶ˆí•„ìš”<small>ìœ„í—˜ ë‚®ìŒ(êµìœ¡ìš©)</small></button>
      </div>

      <div class="overlay" id="overlay">
        <div class="resultCard">
          <div class="resultBadge" id="resultBadge">ì •ë‹µ âœ…</div>
          <p class="resultText" id="resultText"></p>
        </div>
      </div>

      <div class="footerNote">â€» ìë™ ì‹œì‘/ìë™ ë‹¤ìŒë¬¸ì œ ë²„ì „</div>
    </div>
  </div>

<script>
(() => {
  /* =========================
     ì„¤ì •
  ========================== */
  const FALL_SECONDS = 5.0;              // âœ… 5ì´ˆ ë‚´ë ¤ì˜¤ê¸°
  const RESULT_SHOW_MS = 900;            // âœ… ê²°ê³¼ ë³´ì—¬ì£¼ê³  ìë™ ë‹¤ìŒ
  const QUESTIONS = [
    { label:"ì¸í”Œë£¨ì—”ì í™˜ì êµ¬ì—­ ì²­ì†Œ", correct:"mask",  explain:"ë¹„ë§/ë¶„ë¬´ ìœ„í—˜ â†’ ìˆ˜ìˆ ë§ˆìŠ¤í¬(ë§ˆìŠ¤í¬)" },
    { label:"ê²°í•µ ë³‘ì‹¤ ì²­ì†Œ",           correct:"n95",   explain:"ê³µê¸°ì£¼ì˜ â†’ N95" },
    { label:"ìˆ˜ë‘(ì˜ì‹¬) êµ¬ì—­ ì²­ì†Œ",       correct:"n95",   explain:"ê³µê¸°ì£¼ì˜(êµìœ¡ìš© ë‹¨ìˆœí™”) â†’ N95" },
    { label:"ë…¸ë¡œë°”ì´ëŸ¬ìŠ¤ ì˜¤ì—¼ ì²­ì†Œ",      correct:"gown",  explain:"ë¶„ë³€/êµ¬í† ë¬¼ ì ‘ì´‰ ìœ„í—˜ â†’ ê°€ìš´+ì¥ê°‘" },
    { label:"ìƒì²˜ ë°°ë†/ì‚¼ì¶œë¬¼ ì£¼ë³€ ì²­ì†Œ",  correct:"gown",  explain:"ì²´ì•¡ ì ‘ì´‰ ìœ„í—˜ â†’ ê°€ìš´+ì¥ê°‘" },
    { label:"í˜ˆì•¡ ì†ŒëŸ‰ ì˜¤ì—¼ ë‹¦ê¸°",        correct:"gown",  explain:"í˜ˆì•¡ ì ‘ì´‰ ê°€ëŠ¥ â†’ ê°€ìš´+ì¥ê°‘" },
    { label:"ì¼ë°˜ ì‚¬ë¬´ê³µê°„ ë°”ë‹¥ ì²­ì†Œ",     correct:"none",  explain:"ê°ì—¼ ìœ„í—˜ ë‚®ìŒ(êµìœ¡ìš©) â†’ PPE ë¶ˆí•„ìš”" },
    { label:"VRE ì¥ê¸° ì¬ì‹¤ ë³‘ì‹¤ ì²­ì†Œ",     correct:"gown",  explain:"ì ‘ì´‰ì£¼ì˜(í™˜ê²½ì˜¤ì—¼) â†’ ê°€ìš´+ì¥ê°‘" },
    { label:"í˜¸í¡ê¸° ì¦ìƒ í™˜ì ëŒ€ê¸°êµ¬ì—­ ì²­ì†Œ", correct:"mask", explain:"ë¹„ë§ ìœ„í—˜ â†’ ë§ˆìŠ¤í¬" },
    { label:"ì†ì¡ì´/ë‚œê°„ ê³ ë¹ˆë„ í‘œë©´ ì†Œë…", correct:"gown",  explain:"í‘œë©´ ì ‘ì´‰ ë°˜ë³µ â†’ ê°€ìš´+ì¥ê°‘(êµìœ¡ìš©)" },
  ];

  /* =========================
     DOM
  ========================== */
  const qNowEl = document.getElementById('qNow');
  const qTotalEl = document.getElementById('qTotal');
  const scoreEl = document.getElementById('score');
  const limitEl = document.getElementById('limit');
  const statusEl = document.getElementById('status');

  const fallingEl = document.getElementById('falling');
  const hintEl = document.getElementById('hint');
  const overlayEl = document.getElementById('overlay');
  const resultBadgeEl = document.getElementById('resultBadge');
  const resultTextEl = document.getElementById('resultText');

  const buttons = Array.from(document.querySelectorAll('.btn[data-choice]'));

  /* =========================
     ìƒíƒœ
  ========================== */
  let idx = 0;
  let score = 0;
  let locked = false;
  let timeoutId = null;
  let tickRAF = null;
  let startTime = 0;

  qTotalEl.textContent = String(QUESTIONS.length);

  // CSS ë³€ìˆ˜ì— duration ë°˜ì˜
  document.documentElement.style.setProperty('--fallDur', `${FALL_SECONDS}s`);
  limitEl.textContent = `${FALL_SECONDS.toFixed(1)}s`;

  /* =========================
     ìœ í‹¸
  ========================== */
  const choiceName = (c) => ({
    mask:"ë§ˆìŠ¤í¬",
    n95:"N95 ë§ˆìŠ¤í¬",
    gown:"ê°€ìš´+ì¥ê°‘",
    none:"PPE ë¶ˆí•„ìš”"
  }[c] || c);

  function setButtonsEnabled(on){
    buttons.forEach(b => b.disabled = !on);
  }

  function clearTimers(){
    if (timeoutId) { clearTimeout(timeoutId); timeoutId = null; }
    if (tickRAF) { cancelAnimationFrame(tickRAF); tickRAF = null; }
  }

  /* =========================
     ë¬¸ì œ ì‹œì‘(ìë™)
  ========================== */
  function startQuestion(){
    clearTimers();
    locked = false;
    setButtonsEnabled(true);
    overlayEl.classList.remove('show');
    statusEl.textContent = 'ì§„í–‰';

    if (idx >= QUESTIONS.length){
      finishGame();
      return;
    }

    qNowEl.textContent = String(idx + 1);

    const q = QUESTIONS[idx];
    fallingEl.textContent = q.label;

    // ì• ë‹ˆë©”ì´ì…˜ ë¦¬ì…‹
    hintEl.style.display = 'none';
    fallingEl.classList.remove('run');
    // ê°•ì œ ë¦¬í”Œë¡œìš°
    void fallingEl.offsetWidth;
    fallingEl.classList.add('run');

    // ì œí•œì‹œê°„ í‘œì‹œ(0.1ì´ˆ ë‹¨ìœ„)
    startTime = performance.now();
    const tick = () => {
      const t = (performance.now() - startTime) / 1000;
      const left = Math.max(0, FALL_SECONDS - t);
      limitEl.textContent = `${left.toFixed(1)}s`;
      if (left > 0 && !locked) tickRAF = requestAnimationFrame(tick);
    };
    tickRAF = requestAnimationFrame(tick);

    // ì‹œê°„ì´ˆê³¼ ì²˜ë¦¬
    timeoutId = setTimeout(() => {
      if (locked) return;
      grade(null, true);
    }, FALL_SECONDS * 1000);
  }

  /* =========================
     ì±„ì  â†’ ê²°ê³¼ ì ê¹ â†’ ìë™ ë‹¤ìŒ
  ========================== */
  function grade(selected, isTimeout=false){
    locked = true;
    setButtonsEnabled(false);
    statusEl.textContent = 'ì±„ì ';

    // ì• ë‹ˆë©”ì´ì…˜ ë©ˆì¶¤
    fallingEl.classList.remove('run');

    const q = QUESTIONS[idx];
    const correct = q.correct;
    const ok = (!isTimeout && selected === correct);

    if (ok) score += 1;
    scoreEl.textContent = String(score);

    overlayEl.classList.add('show');
    resultBadgeEl.textContent = ok ? 'ì •ë‹µ âœ…' : 'ì˜¤ë‹µ âŒ';

    const selText = isTimeout ? 'ì‹œê°„ì´ˆê³¼' : choiceName(selected);
    resultTextEl.textContent =
      `ë¬¸ì œ: ${q.label}\nì„ íƒ: ${selText}\nì •ë‹µ: ${choiceName(correct)}\nì„¤ëª…: ${q.explain}`;

    // âœ… ìë™ ë‹¤ìŒ ë¬¸ì œ
    clearTimers();
    timeoutId = setTimeout(() => {
      idx += 1;
      startQuestion();
    }, RESULT_SHOW_MS);
  }

  function finishGame(){
    clearTimers();
    locked = true;
    setButtonsEnabled(false);
    statusEl.textContent = 'ì™„ë£Œ';
    hintEl.style.display = 'flex';
    hintEl.textContent = `êµìœ¡ ì™„ë£Œ âœ…  ì ìˆ˜: ${score}/${QUESTIONS.length}`;
    fallingEl.textContent = '';
    overlayEl.classList.remove('show');

    // ë‹¤ì‹œ ìë™ ì‹œì‘(ì›í•˜ë©´ ì£¼ì„ ì²˜ë¦¬)
    timeoutId = setTimeout(() => {
      idx = 0; score = 0;
      scoreEl.textContent = '0';
      hintEl.textContent = 'ì§ˆë³‘ëª…ì´ ë‚´ë ¤ì˜µë‹ˆë‹¤';
      startQuestion();
    }, 1800);
  }

  /* =========================
     ì´ë²¤íŠ¸
  ========================== */
  buttons.forEach(btn => {
    btn.addEventListener('click', () => {
      if (locked) return;
      const choice = btn.dataset.choice;
      grade(choice, false);
    }, {passive:true});
  });

  // âœ… ì‹œì‘ë²„íŠ¼ ì—†ì´ ìë™ ì‹œì‘
  window.addEventListener('load', () => {
    startQuestion();
  });

})();
</script>
</body>
</html>
```î¨0î¨‚
