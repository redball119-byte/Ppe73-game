<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>73병동 감염차단 미션</title>
  <style>
    body{
      font-family: system-ui, -apple-system, "Noto Sans KR", sans-serif;
      margin:0; background:#f6fbff;
      display:flex; justify-content:center;
      padding:18px;
    }
    .wrap{max-width:760px; width:100%;}
    .card{
      background:#fff; border-radius:16px; padding:16px;
      box-shadow:0 6px 18px rgba(0,0,0,.08);
      border:1px solid #e7eef7;
    }
    h1{font-size:22px; margin:0 0 8px;}
    .sub{color:#556; font-size:13px; margin-bottom:12px;}
    .row{display:flex; gap:12px; flex-wrap:wrap;}
    .col{flex:1; min-width:240px;}
    label{display:block; font-size:12px; color:#667; margin:10px 0 6px;}
    input, select{
      width:100%; padding:10px 12px; border-radius:12px;
      border:1px solid #dde; font-size:14px;
      box-sizing:border-box;
    }
    .btn{
      width:100%; padding:12px 14px; border-radius:14px;
      border:0; font-weight:700; cursor:pointer;
      background:#2d7ff9; color:#fff; margin-top:12px;
    }
    .btn2{
      width:100%; padding:12px 14px; border-radius:14px;
      border:1px solid #d6e6ff; font-weight:700; cursor:pointer;
      background:#eef4ff; color:#1a3b7a; margin-top:10px;
    }
    .score{
      display:flex; gap:10px; flex-wrap:wrap; align-items:center;
      margin-top:12px;
    }
    .pill{
      display:inline-block; padding:6px 10px; border-radius:999px;
      background:#eef7ff; border:1px solid #d6e6ff;
      font-size:13px; color:#235;
    }
    .imgBox{
      margin-top:12px;
      display:flex; justify-content:center; align-items:center;
      background:#f2f8ff; border:1px dashed #cfe0ff;
      border-radius:14px; padding:14px;
    }
    img{
      width:100%; max-width:320px;
      aspect-ratio:1/1; object-fit:contain;
      border-radius:12px; background:#fff;
    }
    .hint{font-size:12px; color:#667; margin-top:8px;}
    .footer{font-size:12px; color:#667; margin-top:12px; text-align:center;}
  </style>
</head>

<body>
  <div class="wrap">
    <div class="card" id="screenStart">
      <h1>73병동 감염차단 미션</h1>
      <div class="sub">설치 없이 바로 참여 · PPE를 올바르게 선택해 점수를 얻으세요</div>

      <div class="row">
        <div class="col">
          <label for="nickname">닉네임(실명X 권장)</label>
          <input id="nickname" placeholder="예: 73A-미희 / 73N-홍길동" />

          <label for="shift">근무</label>
          <select id="shift">
            <option value="Day">Day</option>
            <option value="Evening">Evening</option>
            <option value="Night">Night</option>
          </select>

          <button class="btn" id="btnStart">게임 시작</button>
          <button class="btn2" id="btnReset">처음으로</button>

          <div class="score">
            <span class="pill">점수: <b id="score">0</b></span>
            <span class="pill">상태: <b id="statusText">대기</b></span>
          </div>

          <div class="hint">
            ✅ 이미지가 안 뜨면: 리포지토리 root(최상단)에 <b>img.png</b>가 있는지 확인하고, 파일명이 정확히 같은지(대소문자 포함) 확인하세요.
          </div>
        </div>

        <div class="col">
          <div class="imgBox">
            <img id="charImg" src="img.png" alt="캐릭터 이미지"
                 onerror="this.alt='img.png 를 못 찾았어요 (파일명/위치 확인)';" />
          </div>
          <div class="footer">© PPE 미션(간단 버전)</div>
        </div>
      </div>
    </div>
  </div>

  <script>
    const $ = (id) => document.getElementById(id);

    const scoreEl = $("score");
    const statusEl = $("statusText");
    const imgEl = $("charImg");

    let score = 0;

    function setStatus(text){
      statusEl.textContent = text;
    }

    function setImage(){
      // 한 장만 쓰는 버전: 항상 img.png
      imgEl.src = "img.png?v=" + Date.now(); // 캐시 방지
    }

    $("btnStart").addEventListener("click", () => {
      const nick = $("nickname").value.trim();
      if(!nick){
        alert("닉네임을 입력해줘!");
        $("nickname").focus();
        return;
      }
      score += 10;
      scoreEl.textContent = String(score);
      setStatus("진행중");
      setImage();
      alert(`시작! (${nick}, ${$("shift").value})\n+10점`);
    });

    $("btnReset").addEventListener("click", () => {
      score = 0;
      scoreEl.textContent = "0";
      setStatus("대기");
      $("nickname").value = "";
      $("shift").value = "Day";
      setImage();
    });

    // 첫 로드 때도 캐시 방지
    setImage();
  </script>
</body>
</html>
